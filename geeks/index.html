---
layout: default
title: Citizens
nav_tier1_active: "citizens"
masthead-image: "../media/images/geeks/geeks_header.jpg"
nav-breadcrumbs:
 - citizens: "/geeks"
---

<section class="slab-red">
  <div class="layout-breve layout-centered">
    <h2>Geeks have the power to help their cities.</h2>
  </div>
</section>

<section>
  <div class="layout-breve">
    <div class="layout-crotchet">
      <h3>Have an hour?</h3>
      <p>Code for America right now with the <a href="#civicissues">Civic Tech Issue Finder</a>.</p>
    </div>
    <div class="layout-crotchet">
      <h3>Want to hack with others in your city?</h3>
      <p>Join your local volunteer civic tech <a href="https://codeforamerica.org/brigade">Brigade</a>.</p>
    </div>
    <div class="layout-crotchet">
      <h3>Want to spend a year building civic technology?</h3>
      <p>Learn more about becoming a <a href="http://www.codeforamerica.org/about/fellowship/">Code for America Fellow</a>.</p>
    </div>
  </div>
</section>

<section class="slab-gray">
  <div class="layout-breve">
  <h3>What's happening?</h3>
    <div class="layout-crotchet">
      <h4 class="icon-calendar">Events</h4>
      <p id="nextEvent"></p>
      <p><a href="http://codeforamerica.org/brigade/events">More civic tech events</a></p>
    </div>
    <div class="layout-crotchet">
      <h4 class="icon-lamp">Projects</h4>
      <p class="icon-rocket" id="recentProject"></p>
      <p><a href="http://codeforamerica.org/brigade/projects">More civic tech projects</a></p>
    </div>
    <div class="layout-crotchet">
      <h4 class="icon-bullhorn">Stories</h4>
      <p id="recentStory"></p>
      <p><a href="http://codeforamerica.tumblr.com/">More civic tech stories</a></p>
    </div>
  </div>

  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js"></script>

  <script>

    getApi("http://codeforamerica.org/api/events/upcoming_events?per_page=1", showEvent);
    getApi("http://codeforamerica.org/api/projects?per_page=1", showProject);
    getApi("http://codeforamerica.org/api/stories?per_page=1", showStory);

    function getApi(url, callback){
        // Make a api request and pass the response to the callback
        var request = new XMLHttpRequest();
        request.open('GET', url, true);

        request.onload = function() {
          if (request.status >= 200 && request.status < 400){
            // Success!
            data = JSON.parse(request.responseText);
            callback(data);
          } else {
            // We reached our target server, but it returned an error
            console.log(request.status);
          }
        };

        request.onerror = function(e) {
          // There was a connection error of some sort
          console.log(request.status);
        };

        request.send();
    }

    function showEvent(data) {
        // Display the next upcoming event.
        var event = data.objects[0]
        nextEvent = document.getElementById("nextEvent");
        var html = "<a href=" + event.event_url + ">" + event.name + "</a>";
        html += '<p>' + moment(new Date(event.start_time)).fromNow();
        html += " at <a href="+event.organization.website+">" + event.organization.name + '</a></p>';
        nextEvent.innerHTML = html;
    }

    function showProject(data) {
        // Display the most recently updated project
        var project = data.objects[0]
        recentProject = document.getElementById("recentProject");
        if (project.link_url) {
            var html = "<a href=" + project.link_url + ">" + project.name + "</a>";
            if (project.code_url) {
              html += "<p class='icon-github2'><a href=" + project.code_url + ">" + project.code_url + "</a></p>";
            }
            html += "<p>" + project.description + "</p>";
            recentProject.innerHTML = html;
        }
        else if (project.code_url) {
            var html = "<a href=" + project.code_url + ">" + project.name + "</a>";
            html += "<p>" + project.description + "</p>";
            recentProject.innerHTML = html;
        } else {
          getApi(data.pages.next, showProject);
        }

    }

    function showStory(data) {
        // Display the most recently updated project
        var story = data.objects[0]
        recentStory = document.getElementById("recentStory");
        var html = "<a href=" + story.link + ">" + story.title + "</a>";
        recentStory.innerHTML = html;
    }

  </script>

</section>

<section>
  <div class="layout-breve">
    <div class="badge-heading badge-github badge-blue">
        <a id="civicissues"></a>
        <h2>Code for America Right Now!</h2>
        <p>These are open GitHub Issues labeled with
        <span class="label" style="background-color:#159818;">help wanted</span>
        from across the civic technology movement. Find more using the
        <a href="/geeks/civicissues">Civic Tech Issue Finder</a>.</p>
    </div>
    <style>
      .label {
        border: 1px solid #00a175;
        display: inline-block;
        background-color:#00a175;
        color: #fff;
        text-align: center;
        border-radius: .33em;
        margin: 5px;
        padding: 0 10px;
        font-family: Interstate, 'Gotham A', 'Gotham B', 'Open Sans Regular', Verdana, Helvetica, Arial;
        font-size:0.85em;
      }
    </style>
    <script>
        // Resize iframe to fit content
        function resize() {
          var newheight = document.getElementById("widget").contentWindow.document.body.scrollHeight;
          document.getElementById("widget").height = newheight + "px";
        }
    </script>
    <iframe id="widget" src="http://codeforamerica.org/geeks/civicissues/widget?labels=help wanted&number=3" width="100%" height="350px" frameBorder="0" onLoad="resize();"> </iframe>
  </div>
</section>
